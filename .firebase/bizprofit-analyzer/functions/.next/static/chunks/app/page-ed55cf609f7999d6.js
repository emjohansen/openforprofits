(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2558:(e,t,r)=>{"use strict";r.d(t,{Toaster:()=>b});var a=r(5155),s=r(7481),n=r(2115),i=r(6621),o=r(2085),l=r(5318),c=r(9434);let d=i.Kq,u=n.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.LM,{ref:t,className:(0,c.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...s})});u.displayName=i.LM.displayName;let m=(0,o.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f=n.forwardRef((e,t)=>{let{className:r,variant:s,...n}=e;return(0,a.jsx)(i.bL,{ref:t,className:(0,c.cn)(m({variant:s}),r),...n})});f.displayName=i.bL.displayName,n.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.rc,{ref:t,className:(0,c.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...s})}).displayName=i.rc.displayName;let p=n.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.bm,{ref:t,className:(0,c.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...s,children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})});p.displayName=i.bm.displayName;let x=n.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.hE,{ref:t,className:(0,c.cn)("text-sm font-semibold",r),...s})});x.displayName=i.hE.displayName;let h=n.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(i.VY,{ref:t,className:(0,c.cn)("text-sm opacity-90",r),...s})});function b(){let{toasts:e}=(0,s.dj)();return(0,a.jsxs)(d,{children:[e.map(function(e){let{id:t,title:r,description:s,action:n,...i}=e;return(0,a.jsxs)(f,{...i,children:[(0,a.jsxs)("div",{className:"grid gap-1",children:[r&&(0,a.jsx)(x,{children:r}),s&&(0,a.jsx)(h,{children:s})]}),n,(0,a.jsx)(p,{})]},t)}),(0,a.jsx)(u,{})]})}h.displayName=i.VY.displayName},2681:(e,t,r)=>{"use strict";r.d(t,{BusinessInputForm:()=>eP});var a=r(5155),s=r(2115),n=r(2177),i=r(221),o=r(5594),l=r(9434);let c=s.forwardRef((e,t)=>{let{className:r,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});c.displayName="Input";var d=r(968),u=r(2085);let m=(0,u.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(d.b,{ref:t,className:(0,l.cn)(m(),r),...s})});f.displayName=d.b.displayName;var p=r(4884);let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(p.bL,{className:(0,l.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r),...s,ref:t,children:(0,a.jsx)(p.zi,{className:(0,l.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});x.displayName=p.bL.displayName;var h=r(7701),b=r(154);let g=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(h.bL,{className:(0,l.cn)("grid gap-2",r),...s,ref:t})});g.displayName=h.bL.displayName;let v=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(h.q7,{ref:t,className:(0,l.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...s,children:(0,a.jsx)(h.C1,{className:"flex items-center justify-center",children:(0,a.jsx)(b.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});v.displayName=h.q7.displayName;var y=r(8872),j=r(9556),N=r(7381),w=r(518);let R=y.bL;y.YJ;let C=y.WT,A=s.forwardRef((e,t)=>{let{className:r,children:s,...n}=e;return(0,a.jsxs)(y.l9,{ref:t,className:(0,l.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...n,children:[s,(0,a.jsx)(y.In,{asChild:!0,children:(0,a.jsx)(j.A,{className:"h-4 w-4 opacity-50"})})]})});A.displayName=y.l9.displayName;let P=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(y.PP,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(N.A,{className:"h-4 w-4"})})});P.displayName=y.PP.displayName;let E=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(y.wn,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(j.A,{className:"h-4 w-4"})})});E.displayName=y.wn.displayName;let M=s.forwardRef((e,t)=>{let{className:r,children:s,position:n="popper",...i}=e;return(0,a.jsx)(y.ZL,{children:(0,a.jsxs)(y.UC,{ref:t,className:(0,l.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...i,children:[(0,a.jsx)(P,{}),(0,a.jsx)(y.LM,{className:(0,l.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(E,{})]})})});M.displayName=y.UC.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(y.JU,{ref:t,className:(0,l.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...s})}).displayName=y.JU.displayName;let F=s.forwardRef((e,t)=>{let{className:r,children:s,...n}=e;return(0,a.jsxs)(y.q7,{ref:t,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(y.VF,{children:(0,a.jsx)(w.A,{className:"h-4 w-4"})})}),(0,a.jsx)(y.p4,{children:s})]})});F.displayName=y.q7.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(y.wv,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",r),...s})}).displayName=y.wv.displayName;let T=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});T.displayName="Card";let k=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...s})});k.displayName="CardHeader";let I=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});I.displayName="CardTitle";let D=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...s})});D.displayName="CardDescription";let S=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...s})});S.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter";var O=r(7489);let U=s.forwardRef((e,t)=>{let{className:r,orientation:s="horizontal",decorative:n=!0,...i}=e;return(0,a.jsx)(O.b,{ref:t,decorative:n,orientation:s,className:(0,l.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",r),...i})});U.displayName=O.b.displayName;var _=r(9613);let V=s.forwardRef((e,t)=>{let{delayDuration:r=20,...s}=e;return(0,a.jsx)(_.Kq,{delayDuration:r,...s,ref:t})});V.displayName=_.Kq.displayName;let $=_.bL,z=_.l9,L=s.forwardRef((e,t)=>{let{className:r,sideOffset:s=4,...n}=e;return(0,a.jsx)(_.UC,{ref:t,sideOffset:s,className:(0,l.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),onPointerDownOutside:e=>{e.target.closest("[data-radix-tooltip-trigger]")&&e.preventDefault()},...n})});L.displayName=_.UC.displayName;var B=r(594),q=r(1920),H=r(8390),G=r(7374),Y=r(7723),K=r(286),W=r(7120),J=r(8186),Z=r(6950),Q=r(3337),X=r(5166),ee=r(6160),et=r(6020),er=r(7554),ea=r(5675),es=r(9591);let en=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";if("string"==typeof e)return e;if(!isFinite(e))return e>0?"Infinity":"-Infinity";try{let r=2*(e%1!=0);if(.005>Math.abs(e)&&Math.abs(e)>0)return e.toLocaleString("en-US",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:4});return e.toLocaleString("en-US",{style:"currency",currency:t,minimumFractionDigits:r,maximumFractionDigits:2})}catch(r){if(!/^[a-zA-Z0-9]/.test(t))return"".concat(t).concat(e.toFixed(2));return"".concat(e.toFixed(2)," ").concat(t)}},ei=e=>"string"==typeof e?e:isFinite(e)?"".concat((100*e).toFixed(2),"%"):"N/A",eo=e=>"string"==typeof e?e:isFinite(e)?e%1!=0?e.toFixed(2):e.toLocaleString("en-US",{maximumFractionDigits:0}):e>0?"Infinity":"-Infinity";function el(e,t){let{pricePerUnit:r,expectedUnitsSold:a,directVariableCostPerUnit:s,salariesWages:n,marketingCosts:i,rentUtilities:o,otherFixedCosts:l,includeLoan:c,loanPayment:d,includeDepreciation:u,depreciationAmortization:m,includeOtherVariableCosts:f,otherVariableCostsPercentage:p,includePaymentProcessingFees:x,paymentProcessingFeeRate:h,includeReturnsRefunds:b,returnsRefundsRate:g,includeOwnerDraw:v,ownerDraw:y,includeTaxes:j,taxRate:N,currency:w}=e,R=n+i+o+l;c&&d>0&&(R+=d),v&&y>0&&(R+=y);let C=u&&m>0?m:0,A=t;if(j&&N>0&&t>0){let e=1-N/100;A=e<=0?1/0:t/e}else j&&N>0&&t<=0&&(A=t);if(!isFinite(A))return{unitsForDesiredMargin:"Infinity",priceForDesiredMargin:"Infinity",directVariableCostReductionForDesiredMargin:"Infinity",fixedCostReductionForDesiredMargin:"Infinity",calculatedTargetProfit:en(t,w)+" (Unreachable)"};let P=A+R+C,E=1-(b?g/100:0),M=(f?p/100:0)+(x?h/100:0),F=r*E*(1-M)-s,T="N/A",k="N/A",I="N/A",D="N/A";T=F>0?isFinite(T=P/F)?Math.max(0,T):1/0:P<=0?0:1/0;let S=a*E*(1-M);k=a>0&&S>0?isFinite(k=(P+s*a)/S)?Math.max(0,k):1/0:a<=0&&P<=0?0:a>0&&S<=0&&P+s*a<=0?0:1/0;let O="N/A";if(a>0){if(F*a>=P)I=0;else if(isFinite(O=r*E*(1-M)-P/a)){let e=s-Math.max(0,O);I=e>0&&e<=s?e:0,e>s?I=r*E*(1-M)*a>=P?s:1/0:e<=0&&(I=0)}else I=1/0}else I=P<=0?0:1/0;let U=F*a;if(isFinite(U)){if(U>=P)D=0;else{let e=U-A-C;if(isFinite(e)){let t=R-Math.max(0,e);D=isFinite(D=t>0?t:0)?D:1/0}else D=1/0}}else D=1/0;return{unitsForDesiredMargin:eo(T),priceForDesiredMargin:en(k,w),directVariableCostReductionForDesiredMargin:en(I,w),fixedCostReductionForDesiredMargin:en(D,w),calculatedTargetProfit:en(t,w)}}let ec=(0,u.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ed(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)(ec({variant:r}),t),...s})}var eu=r(6570),em=r(8044),ef=r(659),ep=r(7070),ex=r(1203),eh=r(9876),eb=r(519);let eg=e=>{let{label:t,value:r,icon:s,description:n}=e;return(0,a.jsxs)("div",{className:"flex flex-col py-2 border-b last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(s,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:t})]}),(0,a.jsx)("span",{className:"text-sm font-semibold",children:r})]}),n&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1 ml-6",children:n})]})};function ev(e){let{results:t,timePeriod:r,currency:s}=e,n="monthly"===r?"Month":"Year";if(!t)return(0,a.jsxs)(T,{className:"w-full shadow-lg rounded-xl",children:[(0,a.jsx)(k,{children:(0,a.jsx)(I,{children:"Profitability Analysis"})}),(0,a.jsx)(S,{children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Enter your business data to see the results."})})]});let i={totalRevenue:en(t.totalRevenue,s),revenueAfterReturns:en(t.revenueAfterReturns,s),totalVariableCosts:en(t.totalVariableCosts,s),contributionMargin:en(t.contributionMargin,s),grossProfit:en(t.grossProfit,s),totalFixedCosts:en(t.totalFixedCosts,s),profitBeforeTax:en(t.profitBeforeTax,s),taxesPaid:en(t.taxesPaid,s),netProfit:en(t.netProfit,s),isProfitable:t.isProfitable?"Yes":"No",breakEvenUnits:eo(t.breakEvenUnits),breakEvenRevenue:en(t.breakEvenRevenue,s),profitMargin:ei(t.profitMargin),roi:ei(t.roi)},o=t.isProfitable,l="N/A"!==t.roi;return(0,a.jsxs)(T,{className:"w-full shadow-lg rounded-xl ".concat(o?"border-accent":"border-destructive"),children:[(0,a.jsxs)(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsxs)(I,{className:"text-xl",children:["Profitability (",n,"ly)"]}),(0,a.jsxs)(ed,{variant:o?"default":"destructive",className:"text-xs font-semibold ".concat(o?"bg-accent text-accent-foreground":""),children:[o?(0,a.jsx)(eu.A,{className:"mr-1.5 h-3.5 w-3.5"}):(0,a.jsx)(em.A,{className:"mr-1.5 h-3.5 w-3.5"}),o?"Profitable":"Not Profitable"]})]}),(0,a.jsx)(S,{children:(0,a.jsxs)("div",{className:"space-y-1",children:[" ",(0,a.jsx)(eg,{label:"Net Profit (per ".concat(n,")"),value:i.netProfit,icon:o?ef.A:ep.A,description:"Profit after all costs and taxes."}),(0,a.jsx)(eg,{label:"Profit Margin",value:i.profitMargin,icon:Y.A,description:"Net Profit / Revenue After Returns"}),l&&(0,a.jsx)(eg,{label:"Return on Investment (ROI)",value:i.roi,icon:X.A,description:"Net Profit / Initial Investment"}),(0,a.jsx)(U,{className:"my-2"}),(0,a.jsx)("h4",{className:"text-sm font-medium text-muted-foreground pt-1 pb-1",children:"Break-Even Point"}),(0,a.jsx)(eg,{label:"Break-Even Units",value:i.breakEvenUnits,icon:ex.A,description:"Units needed to sell per ".concat(n," to cover all costs.")}),(0,a.jsx)(eg,{label:"Break-Even Revenue (per ".concat(n,")"),value:i.breakEvenRevenue,icon:eh.A,description:"Gross revenue needed per ".concat(n," to cover all costs.")}),(0,a.jsxs)("details",{className:"pt-2",children:[(0,a.jsx)("summary",{className:"cursor-pointer text-sm font-medium text-primary hover:underline",children:"Show Detailed Calculation Breakdown"}),(0,a.jsxs)("div",{className:"mt-1 space-y-1 pl-4 border-l ml-1",children:[(0,a.jsx)(eg,{label:"Gross Revenue (per ".concat(n,")"),value:i.totalRevenue,icon:ef.A,description:"Price per Unit * Units Sold"}),(0,a.jsx)(eg,{label:"Revenue After Returns (per ".concat(n,")"),value:i.revenueAfterReturns,icon:ea.A,description:"Gross Revenue - Returns/Refunds"}),(0,a.jsx)(eg,{label:"Total Variable Costs (per ".concat(n,")"),value:i.totalVariableCosts,icon:ep.A,description:"Direct Costs + Other Var. Costs + Payment Fees"}),(0,a.jsx)(eg,{label:"Contribution Margin (per ".concat(n,")"),value:i.contributionMargin,icon:eh.A,description:"Revenue After Returns - Total Variable Costs"}),(0,a.jsx)(U,{className:"my-1"}),(0,a.jsx)(eg,{label:"Total Fixed & Op. Costs (per ".concat(n,")"),value:i.totalFixedCosts,icon:eb.A,description:"Sum of all fixed costs including Loan, Owner Draw, and Depreciation."}),(0,a.jsx)(eg,{label:"Profit Before Tax (per ".concat(n,")"),value:i.profitBeforeTax,icon:eh.A,description:"Contribution Margin - Total Fixed & Op. Costs"}),t.taxesPaid>0&&i.taxesPaid!==en(0,s)&&(0,a.jsx)(eg,{label:"Taxes Paid (per ".concat(n,")"),value:i.taxesPaid,icon:Y.A}),(0,a.jsx)(U,{className:"my-1"}),(0,a.jsx)(eg,{label:"Net Profit (After Tax)",value:i.netProfit,icon:o?ef.A:ep.A})]})]})]})})]})}var ey=r(2011);let ej=e=>{let{label:t,value:r,icon:s,description:n}=e;return(0,a.jsxs)("div",{className:"flex flex-col py-3 border-b last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(s,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{className:"text-base font-semibold",children:t})]}),(0,a.jsx)("span",{className:"text-base font-bold ".concat((null==r?void 0:r.includes("Infinity"))||(null==r?void 0:r.includes("N/A"))?"text-destructive":"text-primary"),children:"Infinity"===r?"∞ (Unreachable)":r})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1 ml-7",children:n})]})};function eN(e){var t,r,s,n;let{targets:i,timePeriod:o,currency:l,desiredProfitMargin:c}=e,d="monthly"===o?"Month":"Year",u=void 0!==c&&c>0&&(null==i?void 0:i.unitsForDesiredMargin)!==void 0;return i?(0,a.jsxs)(T,{className:"w-full shadow-lg rounded-xl",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(I,{className:"text-xl",children:"Profitability Targets"}),(0,a.jsxs)(D,{children:["Minimums needed (",d,"ly) to cover costs or achieve your desired profit margin."]})]}),(0,a.jsxs)(S,{children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:[(0,a.jsx)(ex.A,{className:"w-5 h-5 text-muted-foreground"})," Break-Even Targets"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(ej,{label:"Units to Sell",value:i.unitsToBreakEven,icon:G.A,description:"Minimum units to sell per ".concat(d," to cover all costs.")}),(0,a.jsx)(ej,{label:"Price per Unit",value:i.priceToBreakEven,icon:H.A,description:"Minimum gross price per unit needed at current ".concat(d,"ly sales volume.")}),(0,a.jsx)(ej,{label:"Reduce Direct Variable Cost By",value:i.directVariableCostReductionToBreakEven,icon:ep.A,description:"Amount each unit's direct variable cost must decrease (in ".concat(l,").")}),(0,a.jsx)(ej,{label:"Reduce Fixed Costs By (per ".concat(d,")"),value:i.fixedCostReductionToBreakEven,icon:ey.A,description:"Total amount ".concat(d,"ly fixed costs (excl. depreciation) must decrease (in ").concat(l,").")})]})]}),u&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U,{className:"my-6"}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:[(0,a.jsx)(Q.A,{className:"w-5 h-5 text-accent"})," ",c,"% Profit Margin Targets",i.calculatedTargetProfit&&(0,a.jsxs)("span",{className:"text-sm font-normal text-muted-foreground",children:[" (Target Profit: ",i.calculatedTargetProfit,")"]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(ej,{label:"Units to Sell",value:null!==(t=i.unitsForDesiredMargin)&&void 0!==t?t:"N/A",icon:G.A,description:"Units to sell per ".concat(d," to achieve the target margin.")}),(0,a.jsx)(ej,{label:"Price per Unit",value:null!==(r=i.priceForDesiredMargin)&&void 0!==r?r:"N/A",icon:H.A,description:"Gross price per unit needed at current ".concat(d,"ly sales volume.")}),(0,a.jsx)(ej,{label:"Reduce Direct Variable Cost By",value:null!==(s=i.directVariableCostReductionForDesiredMargin)&&void 0!==s?s:"N/A",icon:ep.A,description:"Amount each unit's direct variable cost must decrease (in ".concat(l,").")}),(0,a.jsx)(ej,{label:"Reduce Fixed Costs By (per ".concat(d,")"),value:null!==(n=i.fixedCostReductionForDesiredMargin)&&void 0!==n?n:"N/A",icon:ey.A,description:"Total amount ".concat(d,"ly fixed costs (excl. depreciation) must decrease (in ").concat(l,").")})]})]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-4 italic",children:"Note: Targets assume other factors remain constant. 'Infinity' means the target is not possible by changing only this factor under current conditions (e.g., variable costs exceed revenue, required reduction is impossible). 'N/A' indicates calculation was not applicable (e.g., no desired margin set)."})]})]}):(0,a.jsxs)(T,{className:"w-full shadow-lg rounded-xl",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(I,{className:"text-xl",children:"Profitability Targets"}),(0,a.jsx)(D,{children:"How to reach break-even or desired profit."})]}),(0,a.jsx)(S,{children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Enter your business data to see the targets."})})]})}var ew=r(7481);let eR=o.Ik({pricePerUnit:o.vk(e=>""===e?void 0:Number(e),o.ai({invalid_type_error:"Must be a number"}).min(.01,"Must be greater than 0").default(1)),expectedUnitsSold:o.vk(e=>""===e?void 0:Number(e),o.ai({invalid_type_error:"Must be a number"}).min(0,"Cannot be negative").int("Must be a whole number").default(0)),directVariableCostPerUnit:o.vk(e=>""===e?void 0:Number(e),o.ai({invalid_type_error:"Must be a number"}).min(0,"Cannot be negative").default(0)),salariesWages:o.vk(e=>""===e?void 0:Number(e),o.ai({invalid_type_error:"Must be a number"}).min(0,"Cannot be negative").default(0)),marketingCosts:o.vk(e=>""===e?void 0:Number(e),o.ai({invalid_type_error:"Must be a number"}).min(0,"Cannot be negative").default(0)),rentUtilities:o.vk(e=>""===e?void 0:Number(e),o.ai({invalid_type_error:"Must be a number"}).min(0,"Cannot be negative").default(0)),otherFixedCosts:o.vk(e=>""===e?void 0:Number(e),o.ai({invalid_type_error:"Must be a number"}).min(0,"Cannot be negative").default(0)),includeInvestment:o.zM().default(!1),initialInvestment:o.vk(e=>""===e?void 0:Number(e),o.ai({invalid_type_error:"Must be a number"}).min(0,"Cannot be negative").optional()),includeTaxes:o.zM().default(!1),taxRate:o.vk(e=>""===e?void 0:Number(e),o.ai({invalid_type_error:"Must be a number"}).min(0,"Cannot be negative").max(100,"Cannot exceed 100").optional()),includeLoan:o.zM().default(!1),loanPayment:o.vk(e=>""===e?void 0:Number(e),o.ai({invalid_type_error:"Must be a number"}).min(0,"Cannot be negative").optional()),includeDepreciation:o.zM().default(!1),depreciationAmortization:o.vk(e=>""===e?void 0:Number(e),o.ai({invalid_type_error:"Must be a number"}).min(0,"Cannot be negative").optional()),includeOtherVariableCosts:o.zM().default(!1),otherVariableCostsPercentage:o.vk(e=>""===e?void 0:Number(e),o.ai({invalid_type_error:"Must be a number"}).min(0,"Cannot be negative").max(100,"Cannot exceed 100").optional()),includePaymentProcessingFees:o.zM().default(!1),paymentProcessingFeeRate:o.vk(e=>""===e?void 0:Number(e),o.ai({invalid_type_error:"Must be a number"}).min(0,"Cannot be negative").max(100,"Cannot exceed 100").optional()),includeReturnsRefunds:o.zM().default(!1),returnsRefundsRate:o.vk(e=>""===e?void 0:Number(e),o.ai({invalid_type_error:"Must be a number"}).min(0,"Cannot be negative").max(100,"Cannot exceed 100").optional()),includeOwnerDraw:o.zM().default(!1),ownerDraw:o.vk(e=>""===e?void 0:Number(e),o.ai({invalid_type_error:"Must be a number"}).min(0,"Cannot be negative").optional()),desiredProfitMargin:o.vk(e=>""===e?void 0:Number(e),o.ai({invalid_type_error:"Must be a number"}).min(0,"Cannot be negative").max(100,"Cannot exceed 100").optional()),timePeriod:o.k5(["monthly","annually"]).default("monthly"),currency:o.Yj().min(1).default("USD"),customCurrency:o.Yj().optional()}).refine(e=>!e.includeInvestment||e.includeInvestment&&void 0!==e.initialInvestment&&e.initialInvestment>=0,{message:"Initial Investment is required when enabled",path:["initialInvestment"]}).refine(e=>!e.includeTaxes||e.includeTaxes&&void 0!==e.taxRate&&e.taxRate>=0,{message:"Tax Rate is required when enabled",path:["taxRate"]}).refine(e=>!e.includeLoan||e.includeLoan&&void 0!==e.loanPayment&&e.loanPayment>=0,{message:"Loan Payment is required when enabled",path:["loanPayment"]}).refine(e=>!e.includeDepreciation||e.includeDepreciation&&void 0!==e.depreciationAmortization&&e.depreciationAmortization>=0,{message:"Depreciation/Amortization amount is required when enabled",path:["depreciationAmortization"]}).refine(e=>!e.includeOtherVariableCosts||e.includeOtherVariableCosts&&void 0!==e.otherVariableCostsPercentage&&e.otherVariableCostsPercentage>=0,{message:"Other Variable Costs percentage is required when enabled",path:["otherVariableCostsPercentage"]}).refine(e=>!e.includePaymentProcessingFees||e.includePaymentProcessingFees&&void 0!==e.paymentProcessingFeeRate&&e.paymentProcessingFeeRate>=0,{message:"Payment Processing Fee Rate is required when enabled",path:["paymentProcessingFeeRate"]}).refine(e=>!e.includeReturnsRefunds||e.includeReturnsRefunds&&void 0!==e.returnsRefundsRate&&e.returnsRefundsRate>=0,{message:"Returns/Refunds Rate is required when enabled",path:["returnsRefundsRate"]}).refine(e=>!e.includeOwnerDraw||e.includeOwnerDraw&&void 0!==e.ownerDraw&&e.ownerDraw>=0,{message:"Owner Draw amount is required when enabled",path:["ownerDraw"]}).refine(e=>"OTHER"!==e.currency||"OTHER"===e.currency&&e.customCurrency&&e.customCurrency.trim().length>0,{message:"Please specify a custom currency symbol or code.",path:["customCurrency"]}),eC=e=>{var t;let{name:r,label:s,control:i,errors:o,icon:l,placeholder:d,type:u="number",step:m="0.01",tooltip:p}=e;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(f,{htmlFor:r,className:"flex items-center gap-2 text-sm font-medium",children:[(0,a.jsx)(l,{className:"h-4 w-4 text-muted-foreground"})," ",s]}),p&&(0,a.jsxs)($,{disableHoverableContent:!0,children:[(0,a.jsx)(z,{asChild:!0,children:(0,a.jsx)("button",{type:"button",tabIndex:-1,"aria-label":"More information about ".concat(s),className:"cursor-help p-1 rounded-full hover:bg-muted focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:(0,a.jsx)(B.A,{className:"h-4 w-4 text-muted-foreground"})})}),(0,a.jsx)(L,{side:"top",className:"max-w-xs text-sm bg-popover text-popover-foreground p-3 rounded-md shadow-md",children:(0,a.jsx)("p",{children:p})})]})]}),(0,a.jsx)(n.xI,{name:r,control:i,render:e=>{var t;let{field:s}=e;return(0,a.jsx)(c,{id:r,type:u,placeholder:d,step:m,min:"number"===u?"0":void 0,...s,onChange:e=>s.onChange(""===e.target.value?"":"number"===u?Number(e.target.value):e.target.value),value:null!==(t=s.value)&&void 0!==t?t:"",className:o[r]?"border-destructive":""})}}),o[r]&&(0,a.jsx)("p",{className:"text-xs text-destructive",children:null===(t=o[r])||void 0===t?void 0:t.message})]})},eA=e=>{let{name:t,label:r,control:s,tooltip:i}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-2 pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(f,{htmlFor:t,className:"text-sm font-medium flex-1",children:r}),i&&(0,a.jsxs)($,{disableHoverableContent:!0,children:[(0,a.jsx)(z,{asChild:!0,children:(0,a.jsx)("button",{type:"button",tabIndex:-1,"aria-label":"More information about ".concat(r),className:"cursor-help p-1 rounded-full hover:bg-muted -ml-1 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:(0,a.jsx)(B.A,{className:"h-4 w-4 text-muted-foreground"})})}),(0,a.jsx)(L,{side:"top",className:"max-w-xs text-sm bg-popover text-popover-foreground p-3 rounded-md shadow-md",children:(0,a.jsx)("p",{children:i})})]})]}),(0,a.jsx)(n.xI,{name:t,control:s,render:e=>{let{field:r}=e;return(0,a.jsx)(x,{id:t,checked:r.value,onCheckedChange:r.onChange})}})]})};function eP(){let[e,t]=(0,s.useState)(null),[r,o]=(0,s.useState)(null),{toast:l}=(0,ew.dj)(),{control:c,handleSubmit:d,watch:u,formState:{errors:m},getValues:p,setValue:x,trigger:h}=(0,n.mN)({resolver:(0,i.u)(eR),defaultValues:{pricePerUnit:1,expectedUnitsSold:0,directVariableCostPerUnit:0,salariesWages:0,marketingCosts:0,rentUtilities:0,otherFixedCosts:0,includeInvestment:!1,initialInvestment:0,includeTaxes:!1,taxRate:0,includeLoan:!1,loanPayment:0,includeDepreciation:!1,depreciationAmortization:0,includeOtherVariableCosts:!1,otherVariableCostsPercentage:0,includePaymentProcessingFees:!1,paymentProcessingFeeRate:0,includeReturnsRefunds:!1,returnsRefundsRate:0,includeOwnerDraw:!1,ownerDraw:0,desiredProfitMargin:void 0,timePeriod:"monthly",currency:"USD",customCurrency:""},mode:"onChange"}),b=(0,s.useCallback)(e=>{var r,a,s,n,i,c,d,u,m;let f={...e,initialInvestment:e.includeInvestment&&null!==(r=e.initialInvestment)&&void 0!==r?r:0,taxRate:e.includeTaxes&&null!==(a=e.taxRate)&&void 0!==a?a:0,loanPayment:e.includeLoan&&null!==(s=e.loanPayment)&&void 0!==s?s:0,depreciationAmortization:e.includeDepreciation&&null!==(n=e.depreciationAmortization)&&void 0!==n?n:0,otherVariableCostsPercentage:e.includeOtherVariableCosts&&null!==(i=e.otherVariableCostsPercentage)&&void 0!==i?i:0,paymentProcessingFeeRate:e.includePaymentProcessingFees&&null!==(c=e.paymentProcessingFeeRate)&&void 0!==c?c:0,returnsRefundsRate:e.includeReturnsRefunds&&null!==(d=e.returnsRefundsRate)&&void 0!==d?d:0,ownerDraw:e.includeOwnerDraw&&null!==(u=e.ownerDraw)&&void 0!==u?u:0,desiredProfitMargin:null!==(m=e.desiredProfitMargin)&&void 0!==m?m:void 0,currency:"OTHER"===e.currency?e.customCurrency||"???":e.currency};try{if(eR.safeParse(e).success){let e=function(e){let{pricePerUnit:t,expectedUnitsSold:r,directVariableCostPerUnit:a,salariesWages:s,marketingCosts:n,rentUtilities:i,otherFixedCosts:o,includeInvestment:l,initialInvestment:c,includeTaxes:d,taxRate:u,includeLoan:m,loanPayment:f,includeDepreciation:p,depreciationAmortization:x,includeOtherVariableCosts:h,otherVariableCostsPercentage:b,includePaymentProcessingFees:g,paymentProcessingFeeRate:v,includeReturnsRefunds:y,returnsRefundsRate:j,includeOwnerDraw:N,ownerDraw:w}=e,R=t*r,C=0;y&&j>0&&(C=j/100*R);let A=R-C,P=a*r;h&&b>0&&(P+=b/100*A),g&&v>0&&(P+=v/100*A);let E=A-P,M=s+n+i+o;m&&f>0&&(M+=f),N&&w>0&&(M+=w);let F=0;p&&x>0&&(F=x);let T=M+F,k=E-T,I=0;d&&u>0&&k>0&&(I=u/100*k);let D=k-I,S=M+F,O="N/A",U="N/A",_=t*(1-(y?j/100:0))*(1-((h?b/100:0)+(g?v/100:0)))-a;_>0?(U=isFinite(U=(O=S/_)*t)?U:1/0,O=isFinite(O)?O:1/0):S<=0?(O=0,U=0):(O=1/0,U=1/0);let V="N/A";0!==A&&(V=isFinite(V=D/A)?V:0===D?0:"N/A");let $="N/A";return l&&c>0?$=isFinite($=D/c)?$:0===D?0:"N/A":l&&0===c&&D>=0?$=1/0:l&&0===c&&D<0&&($=-1/0),{totalRevenue:R,revenueAfterReturns:A,totalVariableCosts:P,contributionMargin:E,grossProfit:E,totalFixedCosts:T,profitBeforeTax:k,taxesPaid:I,netProfit:D,isProfitable:D>0,breakEvenUnits:O,breakEvenRevenue:U,profitMargin:V,roi:$}}(f),r=function(e){var t,r,a,s;let{desiredProfitMargin:n,currency:i,includeTaxes:o,taxRate:l}=e,c=el(e,0),d={};if(void 0!==n&&n>0){let t=e.pricePerUnit*e.expectedUnitsSold*(1-(e.includeReturnsRefunds?e.returnsRefundsRate/100:0));d=t>0?el(e,n/100*t):{unitsForDesiredMargin:"N/A",priceForDesiredMargin:"N/A",directVariableCostReductionForDesiredMargin:"N/A",fixedCostReductionForDesiredMargin:"N/A",calculatedTargetProfit:en(0,i)+" (Est. Revenue is zero)"}}return{unitsToBreakEven:null!==(t=c.unitsForDesiredMargin)&&void 0!==t?t:"N/A",priceToBreakEven:null!==(r=c.priceForDesiredMargin)&&void 0!==r?r:"N/A",directVariableCostReductionToBreakEven:null!==(a=c.directVariableCostReductionForDesiredMargin)&&void 0!==a?a:"N/A",fixedCostReductionToBreakEven:null!==(s=c.fixedCostReductionForDesiredMargin)&&void 0!==s?s:"N/A",...d}}(f);t(e),o(r)}else t(null),o(null)}catch(e){console.error("Error during calculation:",e),l({variant:"destructive",title:"Calculation Error",description:"Could not perform calculations. Please check your inputs."}),t(null),o(null)}},[l,eR]);(0,s.useEffect)(()=>{let e=u(e=>{b(e)});return b(p()),()=>e.unsubscribe()},[u,b,p]);let y=u("includeInvestment"),j=u("includeTaxes"),N=u("includeLoan"),w=u("includeDepreciation"),P=u("includeOtherVariableCosts"),E=u("includePaymentProcessingFees"),O=u("includeReturnsRefunds"),_=u("includeOwnerDraw"),ei=u("timePeriod"),eo=u("currency"),ec=u("customCurrency"),ed="OTHER"===eo?ec||"???":eo,eu="monthly"===ei?"Month":"Year";return(0,a.jsxs)(V,{delayDuration:20,children:[" ",(0,a.jsxs)("div",{className:"container mx-auto p-4 md:p-8 max-w-4xl space-y-8",children:[(0,a.jsxs)("form",{onSubmit:d(e=>{b(e),l({title:"Analysis Updated",description:"Recalculated based on your inputs."})}),className:"space-y-6",children:[(0,a.jsxs)(T,{className:"shadow-md",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(I,{children:"Configuration"}),(0,a.jsx)(D,{children:"Set the time period and currency for your analysis."})]}),(0,a.jsxs)(S,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(f,{className:"flex items-center gap-2 text-sm font-medium",children:[(0,a.jsx)(q.A,{className:"h-4 w-4 text-muted-foreground"})," Time Period"]}),(0,a.jsxs)($,{disableHoverableContent:!0,children:[(0,a.jsx)(z,{asChild:!0,children:(0,a.jsx)("button",{type:"button",tabIndex:-1,"aria-label":"More information about Time Period",className:"cursor-help p-1 rounded-full hover:bg-muted focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:(0,a.jsx)(B.A,{className:"h-4 w-4 text-muted-foreground"})})}),(0,a.jsx)(L,{side:"top",className:"max-w-xs text-sm bg-popover text-popover-foreground p-3 rounded-md shadow-md",children:(0,a.jsx)("p",{children:"Select the time frame (monthly or annually) for your financial inputs (costs, sales volume). All calculations and results (profit, break-even point, targets) will be based on this period. Ensure all your cost and revenue figures align with the chosen timeframe. Example: If you select 'Monthly', enter your monthly rent, monthly salaries, and expected monthly unit sales."})})]})]}),(0,a.jsx)(n.xI,{name:"timePeriod",control:c,render:e=>{let{field:t}=e;return(0,a.jsxs)(g,{onValueChange:e=>{t.onChange(e),h()},value:t.value,className:"flex space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(v,{value:"monthly",id:"monthly"}),(0,a.jsx)(f,{htmlFor:"monthly",children:"Monthly"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(v,{value:"annually",id:"annually"}),(0,a.jsx)(f,{htmlFor:"annually",children:"Annually"})]})]})}})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(f,{htmlFor:"currency",className:"flex items-center gap-2 text-sm font-medium",children:[(0,a.jsx)(H.A,{className:"h-4 w-4 text-muted-foreground"})," Currency"]}),(0,a.jsxs)($,{disableHoverableContent:!0,children:[(0,a.jsx)(z,{asChild:!0,children:(0,a.jsx)("button",{type:"button",tabIndex:-1,"aria-label":"More information about Currency",className:"cursor-help p-1 rounded-full hover:bg-muted focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:(0,a.jsx)(B.A,{className:"h-4 w-4 text-muted-foreground"})})}),(0,a.jsx)(L,{side:"top",className:"max-w-xs text-sm bg-popover text-popover-foreground p-3 rounded-md shadow-md",children:(0,a.jsx)("p",{children:"Select the primary currency for all monetary inputs (prices, costs). Results like Net Profit and Break-Even Revenue will be displayed in this currency. If your currency isn't listed, choose 'Other...' and enter its standard 3-letter code (e.g., SEK, BRL) or symbol (e.g., \xa5, \xa3). Example: If your business operates in Canada, select 'CAD'."})})]})]}),(0,a.jsx)(n.xI,{name:"currency",control:c,render:e=>{let{field:t}=e;return(0,a.jsxs)(R,{onValueChange:e=>{t.onChange(e),"OTHER"!==e&&x("customCurrency",""),h()},value:t.value,children:[(0,a.jsx)(A,{id:"currency",children:(0,a.jsx)(C,{placeholder:"Select currency"})}),(0,a.jsxs)(M,{children:[(0,a.jsx)(F,{value:"USD",children:"USD ($)"}),(0,a.jsx)(F,{value:"EUR",children:"EUR (€)"}),(0,a.jsx)(F,{value:"GBP",children:"GBP (\xa3)"}),(0,a.jsx)(F,{value:"JPY",children:"JPY (\xa5)"}),(0,a.jsx)(F,{value:"CAD",children:"CAD (C$)"}),(0,a.jsx)(F,{value:"AUD",children:"AUD (A$)"}),(0,a.jsx)(F,{value:"INR",children:"INR (₹)"}),(0,a.jsx)(F,{value:"OTHER",children:"Other..."})]})]})}}),"OTHER"===eo&&(0,a.jsx)(eC,{name:"customCurrency",label:"Custom Currency (e.g., SEK)",control:c,errors:m,icon:H.A,placeholder:"e.g., SEK or R$",type:"text",step:void 0,tooltip:"Enter the official 3-letter currency code (like 'SEK', 'BRL') or a common currency symbol (like '₪', 'kr'). Consistency is key for correct formatting. Example: For Swedish Krona, enter 'SEK'."}),m.currency&&(0,a.jsx)("p",{className:"text-xs text-destructive",children:m.currency.message}),m.customCurrency&&(0,a.jsx)("p",{className:"text-xs text-destructive",children:m.customCurrency.message})]})]})]}),(0,a.jsxs)(T,{className:"shadow-md",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(I,{children:"Revenue & Direct Costs"}),(0,a.jsx)(D,{children:"Core sales and direct production/service costs per unit."})]}),(0,a.jsxs)(S,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)(eC,{name:"pricePerUnit",label:"Selling Price per Unit",control:c,errors:m,icon:H.A,placeholder:"e.g., 49.99",tooltip:"The amount you charge a customer for one unit of your product or service, before any discounts or returns. Example: If you sell coffee mugs for $15 each, enter 15."}),(0,a.jsx)(eC,{name:"expectedUnitsSold",label:"Expected Units Sold (per ".concat(eu,")"),control:c,errors:m,icon:G.A,placeholder:"e.g., 500",type:"number",step:"1",tooltip:"Estimate the total number of units you plan to sell in the selected time period (".concat(eu,"). This is crucial for forecasting revenue. Example: If you expect to sell 200 mugs per month, enter 200.")}),(0,a.jsx)(eC,{name:"directVariableCostPerUnit",label:"Direct Variable Cost per Unit",control:c,errors:m,icon:H.A,placeholder:"e.g., 12.50",tooltip:"Costs directly tied to producing or delivering one unit. These change proportionally with sales volume. Includes materials, direct labor, and unit-specific overhead. Example: For a mug, this might be the blank mug cost ($3), printing ($2), and a portion of packaging ($0.50). Total = $5.50."}),(0,a.jsxs)("div",{className:"md:col-span-2 space-y-4 border-t pt-4",children:[(0,a.jsx)(eA,{name:"includeOtherVariableCosts",label:"Include Other Variable Costs?",control:c,tooltip:"Enable if you have costs that vary with sales volume but aren't direct unit costs. These are calculated as a percentage of your revenue *after* potential returns. Examples include sales commissions, variable shipping fees, or affiliate payouts."}),P&&(0,a.jsx)(eC,{name:"otherVariableCostsPercentage",label:"Other Variable Costs (% of Adjusted Revenue)",control:c,errors:m,icon:Y.A,placeholder:"e.g., 5",step:"0.1",tooltip:"Enter the total percentage these other variable costs represent relative to your revenue after accounting for returns. Example: If sales commissions are 5% and variable fulfillment costs average 3% of the post-return revenue, enter 8."})]})]})]}),(0,a.jsxs)(T,{className:"shadow-md",children:[(0,a.jsxs)(k,{children:[(0,a.jsxs)(I,{children:["Fixed Operating Costs (",eu,"ly)"]}),(0,a.jsx)(D,{children:"Regular expenses not directly tied to production volume."})]}),(0,a.jsxs)(S,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)(eC,{name:"salariesWages",label:"Salaries & Wages",control:c,errors:m,icon:K.A,placeholder:"e.g., 8000",tooltip:"Total gross compensation for all employees (including payroll taxes/benefits paid by the employer) for the selected period (".concat(eu,"). Exclude owner's draw if you're tracking that separately below. Example: Total monthly payroll cost is $8,000.")}),(0,a.jsx)(eC,{name:"marketingCosts",label:"Marketing & Advertising",control:c,errors:m,icon:W.A,placeholder:"e.g., 1000",tooltip:"Total spending on promotional activities for the ".concat(eu,". Includes costs like online ads (Google, Facebook), social media management tools or fees, content creation, print materials, etc. Example: Monthly ad spend of $700 + SEO tool $100 + Flyer printing $200 = $1000.")}),(0,a.jsx)(eC,{name:"rentUtilities",label:"Rent & Utilities",control:c,errors:m,icon:J.A,placeholder:"e.g., 2500",tooltip:"Cost of your physical workspace (office, shop) and associated utilities (electricity, water, internet, gas) for the ".concat(eu,". Include property taxes/insurance if paid as part of rent. Example: Monthly office rent $2000 + Electricity $150 + Internet $100 + Water $50 = $2300.")}),(0,a.jsx)(eC,{name:"otherFixedCosts",label:"Other Fixed Costs",control:c,errors:m,icon:Z.A,placeholder:"e.g., 750",tooltip:"Sum of all other recurring fixed expenses for the ".concat(eu," not listed above. Examples: Software subscriptions (CRM, accounting software), business insurance, professional fees (legal, accounting), licenses, bank charges. Example: Monthly software $200 + Insurance $150 + Accounting $300 + Licenses $100 = $750.")})]})]}),(0,a.jsxs)(T,{className:"shadow-md",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(I,{children:"Profitability Goals"}),(0,a.jsx)(D,{children:"Set targets to see what's required to achieve them."})]}),(0,a.jsxs)(S,{children:[(0,a.jsx)(eC,{name:"desiredProfitMargin",label:"Desired Net Profit Margin (%)",control:c,errors:m,icon:Q.A,placeholder:"e.g., 15",step:"0.1",type:"number",tooltip:"Enter your target profitability as a percentage of revenue (after returns). For example, entering '20' means you aim for $20 net profit for every $100 of revenue remaining after accounting for returns. This helps calculate the sales volume, price, or cost reductions needed to hit your goal. Leave blank for just break-even analysis."}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Enter your target profit margin (e.g., 15 for 15%). Leave blank if you only want break-even analysis. Calculations assume this margin is applied to Revenue After Returns. Tax implications are considered if taxes are enabled."})]})]}),(0,a.jsxs)(T,{className:"shadow-md",children:[(0,a.jsxs)(k,{children:[(0,a.jsx)(I,{children:"Optional Financial Factors"}),(0,a.jsx)(D,{children:"Include additional details for a more comprehensive analysis."})]}),(0,a.jsxs)(S,{className:"space-y-4",children:[(0,a.jsx)(eA,{name:"includeInvestment",label:"Include Initial Investment & ROI?",control:c,tooltip:"Enable this if you want to calculate the Return on Investment (ROI). ROI measures how much profit your business generates relative to the initial capital invested. It helps assess the efficiency of your investment."}),y&&(0,a.jsx)(eC,{name:"initialInvestment",label:"Initial Investment Amount",control:c,errors:m,icon:X.A,placeholder:"e.g., 25000",tooltip:"Enter the total one-time startup capital needed to launch the business. This is *not* a recurring expense. Includes costs like equipment purchases, initial inventory stock, lease deposits, website development, etc. Example: $15,000 equipment + $5,000 inventory + $5,000 setup = $25,000."}),(0,a.jsx)(U,{}),(0,a.jsx)(eA,{name:"includeTaxes",label:"Include Income Tax?",control:c,tooltip:"Enable this to factor in estimated income taxes. Taxes are calculated on the Profit Before Tax (PBT) if it's positive. This provides a more realistic Net Profit figure."}),j&&(0,a.jsx)(eC,{name:"taxRate",label:"Income Tax Rate (%)",control:c,errors:m,icon:Y.A,placeholder:"e.g., 21",step:"0.1",tooltip:"Enter your estimated *effective* income tax rate as a percentage. This rate considers federal, state, and local taxes applicable to your business profits. It can vary significantly. Example: If your combined effective tax rate is 25%, enter 25."}),(0,a.jsx)(U,{}),(0,a.jsx)(eA,{name:"includeLoan",label:"Include Loan Payments?",control:c,tooltip:"Enable if your business makes regular payments (principal + interest) on loans. These payments are treated as fixed operating costs in this profitability analysis."}),N&&(0,a.jsx)(eC,{name:"loanPayment",label:"Loan Payment (per ".concat(eu,")"),control:c,errors:m,icon:ee.A,placeholder:"e.g., 500",tooltip:"Enter the total fixed amount paid towards all business loans during the selected period (".concat(eu,"). Include both principal and interest components. Example: A monthly loan payment of $500.")}),(0,a.jsx)(U,{}),(0,a.jsx)(eA,{name:"includeDepreciation",label:"Include Depreciation/Amortization?",control:c,tooltip:"Enable to include non-cash expenses representing the decrease in value of assets over time (Depreciation for physical assets like machinery, Amortization for intangible assets like software licenses). This reduces taxable income but doesn't affect cash flow directly for break-even unit calculation."}),w&&(0,a.jsx)(eC,{name:"depreciationAmortization",label:"Depreciation & Amortization (per ".concat(eu,")"),control:c,errors:m,icon:et.A,placeholder:"e.g., 300",tooltip:"Enter the total depreciation and amortization expense allocated for the selected period (".concat(eu,"). Example: A $6,000 laptop depreciated over 5 years (straight-line) has an annual depreciation of $1,200, or $100 monthly.")}),(0,a.jsx)(U,{}),(0,a.jsx)(eA,{name:"includePaymentProcessingFees",label:"Include Payment Processing Fees?",control:c,tooltip:"Enable if you incur fees from services like Stripe, PayPal, Square, etc., for processing customer payments. These are usually a percentage of the transaction value, impacting your net revenue per sale."}),E&&(0,a.jsx)(eC,{name:"paymentProcessingFeeRate",label:"Payment Processing Fee Rate (% of Adjusted Revenue)",control:c,errors:m,icon:er.A,placeholder:"e.g., 2.9",step:"0.1",tooltip:"Enter the average percentage fee charged by payment processors, calculated on revenue *after* returns/refunds. Example: If a common rate is 2.9% + $0.30, estimate the overall percentage (e.g., for a $50 item, it might be closer to 3.5%). Enter 3.5."}),(0,a.jsx)(U,{}),(0,a.jsx)(eA,{name:"includeReturnsRefunds",label:"Include Returns & Refunds?",control:c,tooltip:"Enable to account for revenue lost due to customers returning products or requesting refunds. This directly reduces your effective revenue."}),O&&(0,a.jsx)(eC,{name:"returnsRefundsRate",label:"Returns & Refunds Rate (% of Gross Revenue)",control:c,errors:m,icon:ea.A,placeholder:"e.g., 4",step:"0.1",tooltip:"Estimate the percentage of your *total initial sales* (Gross Revenue) that is typically lost due to returns or refunds. Example: If you sell $10,000 worth of goods and issue $400 in refunds, the rate is 4%."}),(0,a.jsx)(U,{}),(0,a.jsx)(eA,{name:"includeOwnerDraw",label:"Include Owner Draw (as Fixed Cost)?",control:c,tooltip:"Enable to factor in regular withdrawals of profit by the owner(s) as a fixed cost. This helps determine profitability *after* the owner takes their compensation, useful for understanding the business's sustainability beyond just covering operational costs."}),_&&(0,a.jsx)(eC,{name:"ownerDraw",label:"Owner Draw (per ".concat(eu,")"),control:c,errors:m,icon:es.A,placeholder:"e.g., 2000",tooltip:"Enter the fixed amount the owner(s) intend to withdraw from the business each period (".concat(eu,"). This is treated as an operating expense for this analysis. Example: $2,000 per month.")})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-8",children:[(0,a.jsx)(ev,{results:e,timePeriod:ei,currency:ed}),(0,a.jsx)(eN,{targets:r,timePeriod:ei,currency:ed,desiredProfitMargin:p("desiredProfitMargin")})]})]})]})}},3351:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3063,23)),Promise.resolve().then(r.bind(r,2681)),Promise.resolve().then(r.bind(r,2558))},7481:(e,t,r)=>{"use strict";r.d(t,{dj:()=>m});var a=r(2115);let s=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?i(r):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function d(e){c=o(c,e),l.forEach(e=>{e(c)})}function u(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:r});return d({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=a.useState(c);return a.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2596),s=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[831,441,684,358],()=>t(3351)),_N_E=e.O()}]);